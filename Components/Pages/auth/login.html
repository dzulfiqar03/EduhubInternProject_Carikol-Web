<section class="login">
  <div class="all-content grid grid-cols-1 md:grid-cols-2 min-h-screen">
    <!-- LEFT CONTENT -->
    <div
      class="left-content flex items-center justify-center p-6 md:p-12 bg-white"
    >
      <div class="content w-full max-w-md space-y-6">
        <div class="top-body text-center md:text-left">
          <div class="logo flex items-center justify-center md:justify-start">
            <img
              src="/resources/assets/images/logo.png"
              width="40"
              alt="Logo"
            />
            <div class="text bg-amber-200 ml-2 px-2 py-1 rounded">
              <h1 class="text-lg font-semibold">CariKol</h1>
            </div>
          </div>

          <h1 class="text-3xl md:text-4xl font-bold mt-5">Welcome Back</h1>
          <h3 class="text-gray-600">Please login with your account instead</h3>
        </div>

        <div class="form-section">
          <div class="inputForm space-y-4">
            <!-- Email -->
            <input
              class="w-full text-sm px-4 py-3 bg-gray-200 focus:bg-white border border-gray-300 rounded-lg focus:outline-none focus:border-teal-400"
              type="email"
              placeholder="Email"
            />

            <!-- Password -->
            <div class="relative" x-data="{ show: false }">
              <input
                placeholder="Password"
                :type="show ? 'text' : 'password'"
                class="w-full text-sm px-4 py-3 bg-gray-200 focus:bg-white border border-gray-300 rounded-lg focus:outline-none focus:border-teal-400"
              />
              <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                <!-- Eye Closed Icon -->
                <svg
                  @click="show = !show"
                  x-show="!show"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-teal-600 cursor-pointer"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  />
                </svg>

                <!-- Eye Open Icon -->
                <svg
                  @click="show = !show"
                  x-show="show"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-teal-600 cursor-pointer"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a10.044 10.044 0 012.293-3.95m1.414-1.415A9.977 9.977 0 0112 5c4.478 0 8.268 2.943 9.542 7a10.05 10.05 0 01-4.132 5.172M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 3l18 18"
                  />
                </svg>
              </div>
            </div>

            <!-- Forgot Password -->
            <div class="text-sm text-right">
              <a
                href="/Component/Pages/auth/register.html"
                class="text-gray-700 hover:text-teal-600"
                >Forgot your password?</a
              >
            </div>

            <!-- Next Button -->
            <button
              id="btn-login"
              onclick="window.location.href='/app.html'"
              class="w-full bg-blue-600 hover:bg-teal-500 text-white p-3 rounded-lg font-semibold transition ease-in-out duration-300"
            >
              Login
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      document
        .getElementById("btn-login")
        .addEventListener("click", function () {
          // Simulasi: cek login berhasil
          const email = document.querySelector('input[type="email"]').value;
          const password = document.querySelector(
            'input[type="password"]'
          ).value;

          // Contoh validasi sederhana
          if (email === "admin@example.com" && password === "admin123") {
            // Simpan token login (dummy)
            localStorage.setItem("authToken", "dummyToken123");

            // Arahkan ke home.html menggunakan loadPage
            if (typeof loadPage === "function") {
              loadPage("./Components/Pages/home.html");
            } else {
              // fallback jika loadPage tidak tersedia (misal direct access ke login.html)
              window.location.href = "/app.html";
            }
          } else {
            alert("Email atau password salah!");
          }
        });
    </script>

    <!-- RIGHT CONTENT / CAROUSEL (Hidden on mobile) -->
    <div
      class="right-content hidden md:flex items-center justify-center min-h-screen bg-teal-500"
    >
      <div class="w-full">
        <section
          x-data="{
                current: 0,
                slides: [
                  {
                    image: '/resources/assets/images/hero.png',
                    title: 'Buat Rate Card Profesional Secara Instan',
                    text: 'Tidak perlu ribet desain manual. KOL bisa langsung tampil profesional.'
                  },
                  {
                    image: '/resources/assets/images/hero2.png',
                    title: 'Satu Tempat untuk Semua Data Kolaborasi',
                    text: 'Simpan semua portofolio, campaign, dan statistik dalam satu dashboard.'
                  },
                  {
                    image: '/resources/assets/images/hero3.png',
                    title: 'Tunjukkan Kredibilitas KOL Kamu',
                    text: 'Dengan data engagement & audience insights otomatis terupdate.'
                  },
                  {
                    image: '/resources/assets/images/hero4.png',
                    title: 'KOL = Brand Partner, Bukan Sekadar Influencer',
                    text: 'Tingkatkan value personal branding kamu di mata brand profesional.'
                  },
                  {
                    image: '/resources/assets/images/hero5.png',
                    title: 'Siap Kolaborasi? Tinggal Kirim Link!',
                    text: 'Bagikan rate card kamu ke brand secara instan dan track siapa yang melihatnya.'
                  }
                ],
                next() {
                  this.current = (this.current + 1) % this.slides.length;
                },
                startAutoSlide() {
                  setInterval(() => this.next(), 5000);
                }
              }"
          x-init="startAutoSlide"
          class="relative w-full mx-auto h-full overflow-hidden px-4 py-8 text-center"
        >
          <!-- Slides -->
          <template x-for="(slide, index) in slides" :key="index">
            <div
              x-show="current === index"
              class="transition-opacity pb-5 duration-500 ease-in-out"
            >
              <img
                :src="slide.image"
                alt="Hero"
                class="mx-auto w-4/5 md:w-1/2 max-h-60 md:max-h-80 object-contain mb-4"
              />
              <h2
                class="text-xl md:text-3xl font-bold text-white"
                x-text="slide.title"
              ></h2>
              <p
                class="mt-2 md:mt-4 text-white text-sm md:text-base"
                x-text="slide.text"
              ></p>
            </div>
          </template>

          <!-- Indicators -->
          <div
            class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2"
          >
            <template x-for="(slide, index) in slides" :key="index">
              <div
                :class="{'bg-white': current === index, 'bg-gray-300': current !== index}"
                class="w-3 h-3 rounded-full"
              ></div>
            </template>
          </div>
        </section>
      </div>
    </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js"></script>

<script src="/js/index.js"></script>
<script>
  let currentIndex = 0;
  const totalSlides = 5;
  const carousel = document.getElementById("carousel");

  let intervalId;

  function updateCarousel() {
    carousel.style.transform = `translateX(-${(currentIndex * 100) / 5}%)`;
  }

  function nextSlide() {
    currentIndex = (currentIndex + 1) % totalSlides;
    updateCarousel();
    resetInterval();
  }

  function prevSlide() {
    currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
    updateCarousel();
    resetInterval();
  }

  function startInterval() {
    intervalId = setInterval(nextSlide, 3000);
  }

  function resetInterval() {
    clearInterval(intervalId);
    startInterval();
  }

  // Start interval on load
  startInterval();
</script>
